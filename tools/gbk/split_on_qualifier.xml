<?xml version="1.3"?>
<tool id="edu.tamu.cpt.tools.split-on-qual" name="Split Genbank On Qualifier" version="20.0.0">
	<description>Splits a Genbank file into a multi-Genbank or subsection based on qualifier</description>
  <macros>
    <import>macros.xml</import>
    <import>cpt-macros.xml</import>
  </macros>
    <requirements>
      <requirement type="package" version="2.7">python</requirement>
      <requirement type="package" version="1.74">biopython</requirement>
    </requirements>
    <command interpreter="python" detect_errors="aggressive"><![CDATA[
$__tool_directory__/split_on_qualifier.py
$gbkIn
--key $keyCheck 
--val $valCheck 
--baseAhead $aheadNum
--baseBehind $backNum
> $output
]]></command>
	<inputs>
          <param label="Genbank file" name="multi_genbank" type="data" format="genbank"/>
          <param label="Which qualifier(s) to check against (Space separated list)" name="keyCheck" type="text" value="locus_tag"/>
          <param label="Value(s) that qualifier must match for feature to be extracted (Space separated list)" name="valCheck" type="text" value=""/>
          <param label="Number of additional bases upstream to extract" name="aheadNum" type="integer" value="0"/>
          <param label="Number of additional bases downstream to extract" name="backNum" type="integer" value="0"/>
	</inputs>
	<outputs>
          <data format="genbank" name="output">
          </data>
	</outputs>
	<help>
**What it does**

Splits a genbank file that contains multiple records into separate genbank files.
Output can be separate history items or a zip file.
</help>
		<expand macro="citations" />
</tool>
