<tool id="SignalP" name="SignalP" version="1.0.3">
	<description>predicts the presence and location of signal peptide cleavage sites in amino acid sequences from different organisms.</description>
	<command>

		signalp
		-org "$organism_group"
        -format long
        -fasta $infile
        $gffOption.gffOut
        -stdout > $output_file;
        #if (str($gffOption.gffOut) == "-gff3")
        cat *.gff3 > $gffOutput;
        #end if
	</command>
	<inputs>
		<param value="" name="infile" optional="False" type="data" label="Input Fasta File" />
        <param value="" name="organism_group" optional="False" type="select" label="Organism Group">
›   ›   ›   <option value="arch">Archaea</option>
			<option value="euk">Eukaryotes</option>
			<option value="gram+">Gram-positive bacteria</option>
			<option value="gram-">Gram-negative bacteria</option>
        </param>
        <conditional name="gffOption">
            <param label="Generate a GFF output using SignalP's GFF option" name="gffOut" type="boolean" truevalue="-gff3" falsevalue="" checked="true"/>
            <when value="-gff3"/>
        </conditional>
	</inputs>
	<outputs>
        <data format="txt" name="output_file" label="SignalP Text Output" />
        <data format="gff3" name="gffOutput" label="SignalP GFF Output" >
            <filter>gffOption[gffOut]</filter>
        </data>
	</outputs>
    <stdio>
        <regex match="Exception" source="stderr" level="fatal" description="Tool exception"/>
    </stdio>
	<help>
    Uses SignalP v5.0b
	</help>
    <citations>
        <citation type="doi">10.1038/nmeth.1701</citation>
    </citations>
</tool>
