<?xml version="1.0"?>
<tool id="MGAFastaMergeGenbank" name="GenBank from MGA output" version="1.94">
  <description>creates a valid genbank file from MGA gene calls and Fasta</description>
  <version_command>perl cpt_mga2genbank.pl --version</version_command>
  <stdio>
    <regex match="Exception" source="stderr" level="fatal" description="Tool exception"/>
  </stdio>
  <command interpreter="perl">cpt_mga2genbank.pl
--galaxy
--outfile_supporting $__new_file_path__
--file_fasta "${file_fasta}"

--file_mga "${file_mga}"

--genbank "${genbank}"

--genbank_files_path "${genbank.files_path}"

--genbank_format "${genbank_format}"

--genbank_id "${genbank.id}"

</command>
  <inputs>
    <param format="fasta" name="file_fasta" help="Input Fasta file" optional="False" label="file_fasta" type="data"/>
    <param name="file_mga" help="Input MGA formatted calls" optional="False" label="file_mga" type="data"/>
    <param name="genbank_format" help="Merged Genbank File" optional="False" label="Format of genbank" type="select">
      <option value="Genbank" selected="True">Genbank</option>
    </param>
  </inputs>
  <outputs>
    <data name="genbank" format="Genbank">
      <change_format>
        <when input="genbank_format" value="Genbank" format="txt"/>
      </change_format>
    </data>
  </outputs>
  <help>
</help>
</tool>
