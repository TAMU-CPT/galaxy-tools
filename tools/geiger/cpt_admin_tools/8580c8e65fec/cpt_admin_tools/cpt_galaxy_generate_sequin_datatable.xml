<?xml version="1.0"?>
<tool id="galaxyhelper.sequin_options" name="Galaxy Helper: Sequin Options" version="1.94">
  <description>generates .loc file for cpt_sequin.pl</description>
  <version_command>perl bin/cpt_galaxy_generate_sequin_datatable.pl --version</version_command>
  <stdio>
    <exit_code range="1:" level="fatal"/>
  </stdio>
  <command interpreter="perl">bin/cpt_galaxy_generate_sequin_datatable.pl
--galaxy
--outfile_supporting $__new_file_path__
--ldap_url "${ldap_url}"

--ldap_base "${ldap_base}"

--mode "${mode}"

--sequin_options "${sequin_options}"

--sequin_options_files_path "${sequin_options.files_path}"

--sequin_options_format "${sequin_options_format}"

--sequin_options_id "${sequin_options.id}"

</command>
  <inputs>
    <param value="ldaps://00-ldap-biobio.tamu.edu" name="ldap_url" help="LDAP Server URL" optional="False" label="ldap_url" type="text"/>
    <param value="ou=People,dc=tamu,dc=edu" name="ldap_base" help="LDAP Server Base" optional="False" label="ldap_base" type="text"/>
    <param value="cn" name="mode" help="Selection mode" optional="False" label="mode" type="select">
      <option value="cn" selected="True">Search for CNs, i.e., people</option>
      <option value="ou">Only list OUs (groups/organizationalUnits)</option>
    </param>
    <param name="sequin_options_format" help="Converted LDAP tree for use in sequin as options in a tree-select" optional="False" label="Format of sequin_options" type="select">
      <option value="Dummy" selected="True">Dummy</option>
    </param>
  </inputs>
  <outputs>
    <data name="sequin_options" format="Dummy">
      <change_format>
        <when input="sequin_options_format" value="Dummy" format="data"/>
      </change_format>
    </data>
  </outputs>
  <help>NAME
====

Galaxy Helper - .loc dump of users in LDAP

DESCRIPTION
===========

This script lives to connect to an LDAP database and then dump a list of
users as a .loc file for use in galaxy. This file can then be used to
allow users to select an LDAP entry from a dropdown in galaxy.

Once you've generated the file, you'll need to place it in
``$GALAXY_ROOT/tool-data/sequin.loc``

Tools can access this data by declaring parameters like the following:

::

    &lt;param help="select a user from the LDAP database" name="dn" label="User DN" type="drill_down" multiple="False" display="radio" hierarchy="recurse" from_file="sequin.xml" optional="False"/&gt;

</help>
  <tests/>
</tool>
