<?xml version="1.0"?>
<tool id="PHAnTASM.CIDGeneration" name="Cassette ID Generator" version="1.94">
  <description>calculate cassette ID string for genomes</description>
  <version_command>perl bin/phantasm_generate_cids.pl --version</version_command>
  <stdio>
    <exit_code range="1:" level="fatal"/>
  </stdio>
  <command interpreter="perl">bin/phantasm_generate_cids.pl
--galaxy
--outfile_supporting $__new_file_path__
--file "${file}"

--cassettes "${cassettes}"

--cassettes_files_path "${cassettes.files_path}"

--cassettes_format "${cassettes_format}"

--cassettes_id "${cassettes.id}"

</command>
  <inputs>
    <param name="file" help="Input file" optional="False" label="file" type="data"/>
    <param name="cassettes_format" help="Identified gene cassettes" optional="False" label="Format of cassettes" type="select">
      <option value="CSV">CSV</option>
      <option value="CSV_U">CSV_U</option>
      <option value="Dumper">Dumper</option>
      <option value="JSON">JSON</option>
      <option value="ODS">ODS</option>
      <option value="TSV">TSV</option>
      <option value="TSV_U" selected="True">TSV_U</option>
      <option value="XLS">XLS</option>
      <option value="XLSX">XLSX</option>
      <option value="YAML">YAML</option>
    </param>
  </inputs>
  <outputs>
    <data name="cassettes" format="TSV_U">
      <change_format>
        <when input="cassettes_format" value="CSV" format="tabular"/>
        <when input="cassettes_format" value="CSV_U" format="tabular"/>
        <when input="cassettes_format" value="Dumper" format="txt"/>
        <when input="cassettes_format" value="JSON" format="txt"/>
        <when input="cassettes_format" value="ODS" format="data"/>
        <when input="cassettes_format" value="TSV" format="tabular"/>
        <when input="cassettes_format" value="TSV_U" format="tabular"/>
        <when input="cassettes_format" value="XLS" format="data"/>
        <when input="cassettes_format" value="XLSX" format="data"/>
        <when input="cassettes_format" value="YAML" format="txt"/>
      </change_format>
    </data>
  </outputs>
  <help>window
------

Runs popcon for a window specified forwards/backwards.

popcon
------

Incredibly simple algo which just chooses the most popular letter (named
after package popularity contest in linux/ubuntu)

NAME
====

PHAnTASM CID Generation Tool

DESCRIPTION
===========

For an input **multi-genome genbank** file, this tool will generate CIDs
for every genome in the file.

What is a CID you ask? Why it's a genomic "cassette ID". We identify
every cassette within the genome using a list of keywords that likely
appear in the "note" or "product" tags, and generate a string which
identifies this genome in a non-unique manner.

For a given genome with a replication, lysis, and morphogenesis cassette
all on the same strand, you would receive a CID of "r+l+m+".

CIDS consist of a set of letters and +/- signs to denote strands. These
strings can be used to compare the genomic layout of two phages.
</help>
  <tests/>
</tool>
